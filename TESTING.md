# Инструкция по тестированию приложения

Данная инструкция поможет вам протестировать все 8 обязательных функций приложения.

## Подготовка к тестированию

1. Соберите проект (если еще не сделали):
```bash
mkdir build
cd build
cmake ..
cmake --build .
```

2. Запустите приложение:
```bash
./build/BaggageSystem
```

## Тестовые данные

Используйте следующие тестовые данные для проверки функций:

### Набор 1: Обычные пассажиры

| № рейса | Ф.И.О. | Кол-во вещей | Веса вещей (кг) | Общий вес |
|---------|--------|--------------|----------------|-----------|
| SU1234 | Иванов Иван Иванович | 3 | 15.5, 22.0, 18.3 | 55.8 |
| AF567 | Петров Петр Петрович | 1 | 25.0 | 25.0 |
| BA890 | Сидорова Мария Сергеевна | 2 | 20.5, 22.0 | 42.5 |
| LH123 | Кузнецов Алексей Николаевич | 5 | 10.0, 12.5, 8.3, 15.0, 11.2 | 57.0 |
| AZ456 | Смирнова Ольга Викторовна | 1 | 28.5 | 28.5 |

### Набор 2: Для тестирования фильтра (функция 3)

Добавьте эти записи для тестирования фильтра (1 вещь, вес 20-30 кг):

| № рейса | Ф.И.О. | Кол-во вещей | Веса вещей (кг) | Примечание |
|---------|--------|--------------|----------------|------------|
| EK777 | Новиков Дмитрий Сергеевич | 1 | 22.5 | ✓ Попадает в фильтр |
| QR888 | Федорова Анна Петровна | 1 | 29.0 | ✓ Попадает в фильтр |
| TK999 | Морозов Сергей Владимирович | 1 | 15.0 | ✗ Не попадает (< 20 кг) |
| SU1234 | Волкова Елена Игоревна | 1 | 35.0 | ✗ Не попадает (> 30 кг) |
| AF567 | Соколов Игорь Александрович | 2 | 22.0, 18.0 | ✗ Не попадает (2 вещи) |

### Набор 3: Для тестирования удаления по рейсам (функция 7)

| № рейса | Ф.И.О. | Кол-во вещей | Веса вещей (кг) |
|---------|--------|--------------|----------------|
| SU1234 | Иванов Петр Степанович | 2 | 20.0, 15.0 |
| SU1234 | Сидоров Александр Иванович | 1 | 23.0 |
| AF567 | Козлов Николай Павлович | 3 | 10.0, 12.0, 14.0 |

## Пошаговое тестирование всех функций

### Функция 1: Создать файл

**Цель**: Создание нового пустого файла базы данных.

**Шаги**:
1. Нажмите кнопку **"1. Создать файл"**
2. В диалоге сохранения выберите местоположение
3. Введите имя файла: `test_baggage.dat`
4. Нажмите "Сохранить"

**Ожидаемый результат**:
- Сообщение "Файл успешно создан!"
- В статусной строке: "Записей: 0 | Файл: test_baggage.dat"

---

### Функция 2: Показать содержимое файла

**Цель**: Вывод всех записей на экран.

**Шаги**:
1. Нажмите кнопку **"2. Показать содержимое"**

**Ожидаемый результат**:
- Если файл пустой: "Всего записей в базе: 0"
- Если есть записи: все записи отображаются в таблице

---

### Функция 6: Добавить запись

**Цель**: Добавление новой записи о багаже пассажира.

**Шаги** (повторите для каждой тестовой записи):
1. Нажмите кнопку **"6. Добавить запись"**
2. Заполните форму:
   - № рейса: `SU1234`
   - Ф.И.О.: `Иванов Иван Иванович`
   - Количество вещей: `3`
   - Вес вещи 1: `15.5` кг
   - Вес вещи 2: `22.0` кг
   - Вес вещи 3: `18.3` кг
3. Нажмите "OK"

**Ожидаемый результат**:
- Сообщение "Запись успешно добавлена!"
- Новая запись появляется в таблице
- Счетчик записей увеличивается

**Тестирование валидации**:
- Попробуйте оставить поле "№ рейса" пустым → Ошибка валидации
- Попробуйте оставить поле "Ф.И.О." пустым → Ошибка валидации
- Попробуйте установить количество вещей > 5 → Поле ограничено до 5
- Попробуйте ввести вес 0 или отрицательный → Поле ограничено минимумом 0.1

---

### Сохранение файла

После добавления нескольких записей:
1. Меню **"Файл"** → **"Сохранить"**

**Ожидаемый результат**:
- Сообщение "Файл успешно сохранен!"

---

### Функция 3: Фильтр пассажиров (1 вещь, 20-30 кг)

**Цель**: Найти пассажиров с одной вещью весом от 20 до 30 кг.

**Предварительные условия**:
- Добавьте тестовые записи из "Набора 2"

**Шаги**:
1. Нажмите кнопку **"3. Фильтр (1 вещь, 20-30 кг)"**

**Ожидаемый результат**:
- Откроется окно с результатами фильтрации
- Должны отображаться ТОЛЬКО записи:
  - `EK777 | Новиков Дмитрий Сергеевич | 22.5 кг`
  - `QR888 | Федорова Анна Петровна | 29.0 кг`
  - `AF567 | Петров Петр Петрович | 25.0 кг`
- Счетчик: "Найдено записей: 3" (или сколько попадает в критерии)

**Проверка правильности фильтра**:
- ✓ Должны попадать: 1 вещь И вес >= 20 кг И вес <= 30 кг
- ✗ НЕ должны попадать: >1 вещи ИЛИ вес < 20 кг ИЛИ вес > 30 кг

---

### Функция 4: Создать файл сводки

**Цель**: Создать текстовый файл с № рейса, Ф.И.О. и общим весом багажа.

**Шаги**:
1. Нажмите кнопку **"4. Создать файл сводки"**
2. Выберите местоположение
3. Введите имя файла: `baggage_summary.txt`
4. Нажмите "Сохранить"

**Ожидаемый результат**:
- Сообщение "Файл сводки успешно создан: baggage_summary.txt"
- Файл создан в указанном месте

---

### Функция 5: Показать файл сводки

**Цель**: Открыть и просмотреть созданный файл сводки.

**Шаги**:
1. Нажмите кнопку **"5. Показать файл сводки"**
2. Выберите файл `baggage_summary.txt`
3. Нажмите "Открыть"

**Ожидаемый результат**:
- Файл открывается в текстовом редакторе
- Содержимое файла:
```
№ рейса	Ф.И.О. пассажира	Общий вес багажа (кг)
=======================================================
SU1234	Иванов Иван Иванович	55.80
AF567	Петров Петр Петрович	25.00
BA890	Сидорова Мария Сергеевна	42.50
...
```

---

### Функция 7: Удалить записи по номерам рейсов

**Цель**: Удалить все записи с заданными номерами рейсов.

**Предварительные условия**:
- Добавьте несколько записей с рейсами `SU1234` и `AF567`

**Шаги**:
1. Нажмите кнопку **"7. Удалить по рейсам"**
2. Введите номера рейсов (каждый с новой строки):
   ```
   SU1234
   AF567
   ```
3. Нажмите "OK"
4. Подтвердите удаление в диалоговом окне

**Ожидаемый результат**:
- Сообщение "Удалено записей: X" (где X - количество удаленных)
- ВСЕ записи с рейсами `SU1234` и `AF567` удалены из таблицы
- Другие записи остались без изменений

**Тестирование**:
- Перед удалением запомните количество записей с этими рейсами
- После удаления проверьте, что удалены ВСЕ записи с указанными рейсами
- Проверьте функцию "Отмена" в подтверждающем диалоге

---

### Функция 8: Изменить количество вещей по Ф.И.О.

**Цель**: Изменить количество и веса вещей для указанного пассажира.

**Шаги**:
1. Нажмите кнопку **"8. Изменить кол-во вещей"**
2. Введите точное Ф.И.О.: `Иванов Иван Иванович`
3. Установите новое количество вещей: `2`
4. Введите новые веса:
   - Вещь 1: `20.0` кг
   - Вещь 2: `25.0` кг
5. Нажмите "OK"

**Ожидаемый результат**:
- Сообщение "Количество вещей изменено для: Иванов Иван Иванович"
- В таблице для этого пассажира:
  - Количество вещей изменилось на `2`
  - Веса изменились на `20.0, 25.0`
  - Общий вес пересчитался: `45.0` кг

**Тестирование различных случаев**:
1. **Пассажир существует**: изменения применены
2. **Пассажир не существует**:
   - Введите Ф.И.О.: `Несуществующий Человек Иванович`
   - Ожидается: "Пассажир не найден"
3. **Несколько пассажиров с одним Ф.И.О.**:
   - Добавьте 2+ записи с одинаковым Ф.И.О.
   - Изменения должны примениться ко ВСЕМ таким записям

---

## Дополнительные тесты

### Тест: Открытие существующего файла

1. Закройте приложение
2. Запустите приложение снова
3. Меню **"Файл"** → **"Открыть"**
4. Выберите ранее созданный файл `test_baggage.dat`

**Ожидаемый результат**: Все ранее сохраненные записи загружены и отображаются в таблице.

---

### Тест: Валидация данных

**Проверка ограничений**:
1. Попытайтесь добавить запись с 0 вещей → Поле ограничено минимумом 1
2. Попытайтесь добавить запись с 6 вещами → Поле ограничено максимумом 5
3. Попытайтесь ввести отрицательный вес → Поле ограничено минимумом 0.1
4. Попытайтесь ввести вес > 100 кг → Поле ограничено максимумом 100

---

### Тест: Работа с пустой базой

1. Создайте новый пустой файл
2. Попробуйте выполнить функции на пустой базе:
   - Функция 3 (Фильтр) → "Найдено записей: 0"
   - Функция 4 (Сводка) → "База данных пуста!"
   - Функция 7 (Удаление) → "База данных пуста!"
   - Функция 8 (Изменение) → "База данных пуста!"

---

## Чек-лист тестирования

Отметьте выполненные тесты:

- [ ] ✓ Функция 1: Создание файла работает корректно
- [ ] ✓ Функция 2: Отображение записей работает корректно
- [ ] ✓ Функция 3: Фильтр находит правильные записи (1 вещь, 20-30 кг)
- [ ] ✓ Функция 4: Файл сводки создается с правильным содержимым
- [ ] ✓ Функция 5: Файл сводки открывается корректно
- [ ] ✓ Функция 6: Добавление записи работает с валидацией
- [ ] ✓ Функция 7: Удаление по рейсам удаляет ВСЕ нужные записи
- [ ] ✓ Функция 8: Изменение количества вещей работает корректно
- [ ] ✓ Сохранение и загрузка файла работают корректно
- [ ] ✓ Валидация данных работает (количество вещей ≤5, вес >0)
- [ ] ✓ Все диалоговые окна открываются и закрываются корректно
- [ ] ✓ Статусная строка обновляется правильно
- [ ] ✓ Таблица обновляется после каждой операции
- [ ] ✓ Русский язык отображается корректно

---

## Отчет об ошибках

Если вы обнаружили ошибку, опишите:
1. Шаги для воспроизведения
2. Ожидаемый результат
3. Фактический результат
4. Скриншоты (если возможно)

---

## Заключение

После прохождения всех тестов вы убедитесь, что приложение:
- ✓ Реализует все 8 обязательных функций
- ✓ Имеет полноценный графический интерфейс
- ✓ Корректно работает с файлами
- ✓ Выполняет валидацию данных
- ✓ Обрабатывает ошибки
- ✓ Сохраняет данные между сеансами

Приложение готово к защите курсовой работы!
